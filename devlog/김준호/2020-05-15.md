# 2020-05-15 김준호

## 1.오늘 한 일

### 1.모델 작성

- 채팅은 유저가 나가도 기록은 남아야합니다. 이에 nickname은 ForeignKey가 아닌 CharField로 구성되었습니다.

- 생성한 날짜를 알기위해 `DateTimeField(auto_now_add=True)`로 작성하였습니다.

- 메시지는 현재 TextField()로 구성되어 제한이 없지만 적당한 선을 찾아 제한을 두어야한다고 생각합니다.

- 여행의 테마별로 채팅을 할 수 있도록 구성하려 합니다. 이에 Theme을 ForeignKey로 받습니다.

  

### 2.채팅 관련 Views

- 유저는 하나의 테마별로 채팅방에 들어가 채팅을 할 수 있습니다.

- 유저는 닉네임과,  메시지, 생성날짜만을 저장합니다.

#### 2.1 기능

채팅을 작성하는기능과 채팅을 저장하는 기능 두가지가 존재합니다.



## 2. 수정사항

```python
LANGUAGE_CODE = 'ko'
TIME_ZONE = 'Asia/Seoul'
USE_I18N = True
USE_L10N = False
USE_TZ = False
```

시간이 utc시간에 따라 저장되는 이유를 발견했습니다. `USE_L10N = False`와 `USE_TZ = False`를 True => False로 바꾸자 정상적으로 저장이 가능했습니다. 



이에따라 변경점을 수정하였습니다.



##  2. 느낀점

모델을 짜기위해서 많이 생각해야했습니다.  그  이상으로 시간을 맞추는대 시간을 많이 소모햇습니다. 장고에서 저장하기전 created_at을 보고 정상적으로 저장이 된다고 생각했습니다.



 몇시간을 mysql에 대해서 수정하려 하다가 django쪽으로 눈을돌려 수정하였더니 몇 분안에 끝낫습니다. 생각이 전환이 필요하다고 느낀 시점이었습니다.